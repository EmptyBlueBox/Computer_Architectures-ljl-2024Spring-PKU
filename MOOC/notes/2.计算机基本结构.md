## 2.1 电子计算机的兴起

### ENIAC

这台计算机被命名为 ENIAC，在一九四三年正式开始设计，由莫克利任首席顾问。

1946年的2月14日 ENIAC 在宾夕法尼亚大学完成。

主要特征：
。组成：18000个电子管
。性能：每秒5000次加法
。功率：150千瓦
。占地：170平方米
。重量：30吨
。成本：50万美元

当然，他实际是在二战之后才完成的，并没有为二战的火炮射击表做出什么贡献。

如果不加通用这两个字，恐怕还会有不小的争议。

作为研制小组的顾问，冯诺依曼参与了很多讨论，并提出了自己的意见和建议。

但是插拔这些开关是一件非常费时费力的工作，往往经过几天的配置连线才能计算新工作，但是这件事情完全可以像受程序管理的数据一样存放于主存储器中。



### ABC

这台计算机叫 ABC，是由美国艾尔瓦州立大学 物理系的阿塔纳索夫副教授和他的学生贝里早在1939年设计完成

在 ENIAC 的设计过程中不可避免的借鉴了很多 ABC的设计思想





### EDVAC

关于EDVAC的报告草案
约翰•冯•诺伊曼 著（虽然冯诺依曼在其中做出了重要的贡献，但是他只署了自己的名字，独自享受了这份巨大的荣誉。）
合同号：W-670-ORD-4926
甲方：美国陆军军械部
乙方：宾夕法尼亚大学
宾夕法尼亚大学
摩尔电机工程学院
若伊
1945年6月30日



EDVAC的主要特点
。实现“存储程序〞概念，大幅提升
了任务效率
。指令和数据采用二进制，极大简化
了逻辑线路
。由五个基本部分组成
•运算器，控制器，存储器，输入设备，输出设备



如果说 ENIAC是世界上第一台电子计算机还存在争议的话，那关于谁是世界上第一台冯诺依曼结构计算机 人们对EDVAC 倒是毫无疑问，因为它肯定不是。



### EDSAC：第一台实用的存储程序式计算机

1949年5月6日正式运行
英国剑桥大学数学实验室研制
主设计师：莫里斯•威尔克斯
以EDVAC为蓝本设计和建造

五个组成部分
• 运算器和控制器：电子管
• 存储器：水银延迟线
• 输入设备：从穿孔纸带输入
• 输出设备：电传打印机



### UNIVAC : UNIVersal Automatic Computer

◎ 1951年，第一台UNIVAC交付美国人口普查局
。设计开始于埃克特-莫克利计算机公司（EMCC）
。完成于雷明顿.兰德公司（Remington Rand）

1952年，UNIVAC一夜成名：UNIVAC在统计了部分选票之后，最先准确的预测了艾森豪威尔将赢得选举。



### UNIVAC：开启了商用计算机的时代

1950年代，众多公司进入电子计算机领域
1953年，IBM成功转型，推出大型计算机IBM701
1955年，IBM占领了70%的市场

"IBM和七个小矮人〞：Burroughs, Sperry Rand(UNIVAC), CDC, Honeywell, GE, RCA, NCR

而在这七个小矮人中，也有已经并购了UNIVAC研制部门的斯普利.兰德公司。





## 2.2 冯•诺依曼结构的要点

### 冯•诺依曼和《关于EDVAC的报告草案》

长度101页，未完成稿
论述了两个重要设计思想
。存储程序（而不是开关连线）
。二进制（而不是十进制）
明确了计算机的五个部分
。运算器，控制器
。存储器
。输入设备，输出设备



### 世界上第一个商业微处理器
Intel 4004
。1971年诞生
。面积：4.2mm×3.2mm
。制造工艺：10微米
。晶体管数量：2250
。主频：最高740KHz
。字长：4位

### MCS-4 ( Micro Computer Set)

<img src="./2.计算机基本结构.assets/CleanShot 2024-03-02 at 16.52.50@2x.png" alt="CleanShot 2024-03-02 at 16.52.50@2x" style="zoom:50%;" />

### 冯-诺依曼结构的要点

<img src="./2.计算机基本结构.assets/CleanShot 2024-03-02 at 16.58.29@2x.png" alt="CleanShot 2024-03-02 at 16.58.29@2x" style="zoom:50%;" />

计算机的五大组成部分
① 运算器，CA:central arithmetical
② 控制器，CC：central control
③ 存储器，M:memory
④ 输入设备，1：input
⑤ 输出设备，O：output



① 计算机应由运算器、控制器、存储器、输入设备和输出设备共5个部分组成
② 数据和程序均以二进制代码形式不加区别地存放在存储器中，存放位置由
存储器的地址指定
③ 计算机在工作时能够自动地从存储器中取出指令加以执行

### 冯•诺依曼结构的核心

冯-诺依曼结构 							现代计算机
运算器CA和控制器CC，合称C 				CPU
( C : Central ) ( Central Processing Unit )
存储器M 								主存储器（主存、内存）



## 2.3 冯•诺依曼结构的小故事

<img src="./2.计算机基本结构.assets/CleanShot 2024-03-02 at 17.04.31@2x.png" alt="CleanShot 2024-03-02 at 17.04.31@2x" style="zoom:30%;" />

计算机执行一条指令的主要步骤
。第一步：取指（Fetch）
。第二步：译码（Decode）
。第三步：执行（Execute）
。第四步：回写（Write-back）



## 2.4 计算机结构的简化模型

<img src="./2.计算机基本结构.assets/CleanShot 2024-03-02 at 17.23.32@2x.png" alt="CleanShot 2024-03-02 at 17.23.32@2x" style="zoom:30%;" />

### 模型机的存储器

<img src="./2.计算机基本结构.assets/CleanShot 2024-03-02 at 17.14.15@2x.png" alt="CleanShot 2024-03-02 at 17.14.15@2x" style="zoom:30%;" />

控制总线：读、写、完成等控制信号

地址总线：如果地址总线宽度为n，则CPU能管理的存储单元最多为 $2^n$ 个

数据总线：数据总线宽度一般为存储单元位宽的整数倍



### 模型机的CPU：控制器

<img src="./2.计算机基本结构.assets/CleanShot 2024-03-02 at 17.15.45@2x.png" alt="CleanShot 2024-03-02 at 17.15.45@2x" style="zoom:30%;" />

控制器用于控制计算机各部件完成取指令、分析指令和执行指令等功能，主要组成部分如下：
① 指令寄存器 IR：Instruction Register
② 程序计数器 PC：Program Counter
③ 存储器地址寄存器 MAR：Memory Address Register
④ 存储器数据寄存器 MDR：Memory Data Register
⑤ 指令译码部件
⑥ 控制电路

#### 控制器的基本组成

<img src="./2.计算机基本结构.assets/CleanShot 2024-03-02 at 17.17.56@2x.png" alt="CleanShot 2024-03-02 at 17.17.56@2x" style="zoom:30%;" />

① IR存放“正在执行或即将执行的指令"

② PC存放“下一条指令的存储单元地址”，具有自动增量计数的功能

③ MAR在访存时用于存放"存储单元的地址”

④ MDR在访存时用于存放“对存储单元读/写的数据〞

⑤ 指令译码部件对IR中的指令进行译码，以确定IR中存放的是哪一条指令

⑥ 控制电路产生控制信号，在时序脉冲的同步下控制各个部件的动作



### 模型机的CPU：运算器

<img src="./2.计算机基本结构.assets/CleanShot 2024-03-02 at 17.19.45@2x.png" alt="CleanShot 2024-03-02 at 17.19.45@2x" style="zoom:30%;" />

运算器用于算术运算和逻辑运算
。常见算术运算：加、减、乘、除等
。常见逻辑运算非、与、或等

#### 运算器的基本组成

<img src="./2.计算机基本结构.assets/CleanShot 2024-03-02 at 17.21.13@2x.png" alt="CleanShot 2024-03-02 at 17.21.13@2x" style="zoom:30%;" />

### CPU的内部总线

内部总线用于在CPU内部各个部件之间传递数据

例如，将数据从RO传送到X



## 2.5 计算机执行指令的过程

### 第一步：取指

<img src="./2.计算机基本结构.assets/CleanShot 2024-03-02 at 17.30.40@2x.png" alt="CleanShot 2024-03-02 at 17.30.40@2x" style="zoom:30%;" />

### 第二步：译码

<img src="./2.计算机基本结构.assets/CleanShot 2024-03-02 at 17.31.45@2x.png" alt="CleanShot 2024-03-02 at 17.31.45@2x" style="zoom:30%;" />

### 第三步：执行

控制器从通用寄存器或存储器取出操作数
控制器命令运算器对操作数进行指令规定的运算

<img src="./2.计算机基本结构.assets/CleanShot 2024-03-02 at 17.39.51@2x.png" alt="CleanShot 2024-03-02 at 17.39.51@2x" style="zoom:30%;" />

### 第四步：回写

<img src="./2.计算机基本结构.assets/CleanShot 2024-03-02 at 17.41.29@2x.png" alt="CleanShot 2024-03-02 at 17.41.29@2x" style="zoom:30%;" />



## 2.6 计算机输入和输出

输入设备，1：input
输出设备，O：output
外部记录介质，R：outside recording medium

电传打印机输出的纸张也可以认为是外部记录介质R。

“输入”的简单场景：

<img src="./2.计算机基本结构.assets/CleanShot 2024-03-02 at 17.47.55@2x.png" alt="CleanShot 2024-03-02 at 17.47.55@2x" style="zoom:30%;" />



## 2.7 冯诺依曼结构和具体实现

### 冯-诺依曼结构原理与实现的对应

<img src="./2.计算机基本结构.assets/CleanShot 2024-03-02 at 17.55.43@2x.png" alt="CleanShot 2024-03-02 at 17.55.43@2x" style="zoom:30%;" />

### 南北桥架构的演变

<img src="./2.计算机基本结构.assets/CleanShot 2024-03-02 at 17.56.21@2x.png" alt="CleanShot 2024-03-02 at 17.56.21@2x" style="zoom:30%;" />



<img src="./2.计算机基本结构.assets/CleanShot 2024-03-02 at 17.57.00@2x.png" alt="CleanShot 2024-03-02 at 17.57.00@2x" style="zoom:30%;" />



<img src="./2.计算机基本结构.assets/CleanShot 2024-03-02 at 17.57.41@2x.png" alt="CleanShot 2024-03-02 at 17.57.41@2x" style="zoom:30%;" />



系统芯片（Sytem-on-a-Chip, SoC）将计算机或其他电子系统集成单一芯片的集成电路

<img src="./2.计算机基本结构.assets/CleanShot 2024-03-02 at 17.58.30@2x.png" alt="CleanShot 2024-03-02 at 17.58.30@2x" style="zoom:30%;" />